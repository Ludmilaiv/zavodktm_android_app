(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{29:function(e,t,s){},53:function(e,t,s){},55:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s(9),c=s.n(a),o=(s(29),s(4)),i=s(24),r="SET_TEMP",l="SET_DEVS",u=function(e){return{type:r,data:e}},m=function(e){return{type:l,data:e}},d=s(2),j=function(e,t){switch(t.type){case r:case l:return Object(d.a)(Object(d.a)({},e),t.data);default:return e}},_=s(0),b="https://zavodktm.ru",p={regURL:b+"/reg",authURL:b+"/reg",recoveryPassURL:b+"/recovery-pass",devicesURL:b+"/get-devices",delDeviceURL:b+"/del-device",editDeviceURL:b+"/edit-device",addDeviceURL:b+"/add-device",getDataURL:b+"/get-data",setDataURL:b+"/set-data",metricDict:{tempFlow:Object(_.jsx)(_.Fragment,{children:"\xb0C"}),tempReturn:Object(_.jsx)(_.Fragment,{children:"\xb0C"}),tempBolerOrShnek1:Object(_.jsx)(_.Fragment,{children:"\xb0C"}),tempShnekOrShek2:Object(_.jsx)(_.Fragment,{children:"\xb0C"}),tempRoom:Object(_.jsx)(_.Fragment,{children:"\xb0C"}),tempOutside:Object(_.jsx)(_.Fragment,{children:"\xb0C"}),tempSmoke:Object(_.jsx)(_.Fragment,{children:"\xb0C"}),current:Object(_.jsx)(_.Fragment,{children:"A"}),shnekOrCurrent1:Object(_.jsx)(_.Fragment,{children:"A"})},coefDict:{tempFlow:.1,tempReturn:.1,tempBolerOrShnek1:.1,tempShnekOrShek2:.1,tempRoom:.1,tempOutside:.1,tempSmoke:.1,current:.01,shnekOrCurrent1:.01}},g=s(6),O=s.n(g),f={funcGetData:function(){localStorage.getItem(localStorage.getItem("user")+"defaultDev")&&O.a.post(p.getDataURL,{id:localStorage.getItem(localStorage.getItem("user")+"defaultDev")}).then((function(e){if("object"!==typeof e.data&&(h.dispatch(u({errCount:h.getState().errCount+1})),h.getState().errCount>3&&h.dispatch(m({offline:!0}))),-1===e.data.temp[0])h.dispatch(u({devType:0,errCount:0,status:-1,tempFlow:null,tempReturn:null,tempBolerOrShnek1:null,tempShnekOrShek2:null,tempRoom:null,tempOutside:null,tempSmoke:null,current:null,shnekOrCurrent1:null,ventel:null,setsTempCO:null,setsTokShnek1:null,setsShnek1:null,setsVent1:null,setsTempGV:null,setsOffNasosCOGV:null,setsTempRoom:null,setsOnKomn:null,setsOnGV:null,setsStartGor1:null,setsModeKomn:null,block_setsTempCO:!1,block_setsShnek1:!1,block_setsTokShnek1:!1,block_setsVent1:!1,block_setsTempGV:!1,block_setsTempRoom:!1,block_setsStartGor1:!1}));else{var t=+e.data.type,s=e.data.temp,n=e.data.set,a=e.data.name;h.dispatch(u({errCount:0,devType:t,name:a,status:s[x],tempFlow:s[S],tempReturn:s[w],tempBolerOrShnek1:s[N],tempShnekOrShek2:s[k],tempRoom:s[C],tempOutside:s[D],tempSmoke:s[I],current:s[T],shnekOrCurrent1:s[y]})),h.getState().block_setsTempCO||h.dispatch(u({setsTempCO:n[G.setsTempCO]})),h.getState().block_setsShnek1||h.dispatch(u({setsShnek1:n[G.setsShnek1]})),h.getState().block_setsTokShnek1||h.dispatch(u({setsTokShnek1:n[G.setsTokShnek1]})),h.getState().block_setsVent1||h.dispatch(u({setsVent1:n[G.setsVent1]})),h.getState().block_setsTempGV||h.dispatch(u({setsTempGV:n[G.setsTempGV]})),h.getState().block_setsTempRoom||h.dispatch(u({setsTempRoom:n[G.setsTempRoom]})),h.getState().block_setsStartGor1||h.dispatch(u({setsStartGor1:n[G.setsStartGor1]})),h.getState().block_setsOffNasosCOGV||h.dispatch(u({setsOffNasosCOGV:n[G.setsOffNasosCOGV]})),h.getState().block_setsModeKomn||h.dispatch(u({setsModeKomn:n[G.setsModeKomn]})),h.getState().block_setsOnGV||h.dispatch(u({setsOnGV:n[G.setsOnGV]})),h.getState().block_setsOnKomn||h.dispatch(u({setsOnKomn:n[G.setsOnKomn]}))}})).catch((function(e){h.dispatch(u({errCount:h.getState().errCount+1})),console.log(e),h.getState().errCount>3&&h.dispatch(m({offline:!0}))}))},funcGetDevices:v,functionSendSettings:function e(t,s,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(console.log(t,+h.getState()[t],s),clearTimeout(F[t]),+h.getState()[t]!==+s)return;if(R[t])return clearTimeout(V[t]),void(V[t]=setTimeout((function(){R[t]=!1,e(t,s,n)}),1e3));if(R[t]=!0,!localStorage.getItem(localStorage.getItem("user")+"defaultDev"))return;var c=localStorage.getItem(localStorage.getItem("user")+"defaultDev"),o={id:c},i="s".concat(G[t]+1);o[i]=s,i in P&&(o[P[i]]=s);O.a.post(p.setDataURL,o).then((function(){n&&(clearTimeout(F[t]),F[t]=setTimeout(n,5e3))})).catch((function(c){console.warn(c),a<10&&setTimeout((function(){e(t,s,n,a+1)}),500)}))},devType:0,pauseGet:!1,offline:!1,name:null,errCount:0,status:-1,tempFlow:null,tempReturn:null,tempBolerOrShnek1:null,tempShnekOrShek2:null,tempRoom:null,tempOutside:null,tempSmoke:null,current:null,shnekOrCurrent1:null,ventel:null,setsTempCO:null,setsTokShnek1:null,setsShnek1:null,setsVent1:null,setsTempGV:null,setsOffNasosCOGV:null,setsTempRoom:null,setsOnKomn:null,setsOnGV:null,setsStartGor1:null,setsModeKomn:null,loading_status:!1,loading_setsStartGor1:!1,block_setsTempCO:!1,block_setsShnek1:!1,block_setsTokShnek1:!1,block_setsVent1:!1,block_setsTempGV:!1,block_setsTempRoom:!1,block_setsOffNasosCOGV:!1,block_setsModeKomn:!1,block_setsOnKomn:!1,block_setsOnGV:!1,block_setsStartGor1:!1,devices:[]},h=Object(i.a)(j,f);function v(){if(!h.getState().pauseGet){var e={userID:localStorage.getItem("user")};O.a.post(p.devicesURL,e).then((function(e){"object"===typeof e.data?(h.dispatch(m({offline:!1})),h.dispatch(m({errCount:0,devices:e.data}))):(console.log(e.data),h.dispatch(m({errCount:h.getState().errCount+1})),h.getState().errCount>3&&h.dispatch(m({offline:!0})))})).catch((function(e){h.dispatch(m({errCount:h.getState().errCount+1})),console.log(e),h.getState().errCount>3&&h.dispatch(m({offline:!0}))}))}}var x=0,S=1,w=2,N=3,k=4,C=5,D=6,I=7,T=8,y=9,G={setsTempCO:1,setsShnek1:4,setsTokShnek1:8,setsVent1:10,setsStartGor1:20,setsOnGV:38,setsTempGV:39,setsOffNasosCOGV:41,setsOnKomn:42,setsTempRoom:43,setsModeKomn:45},P={s5:"s6",s11:"s12"},V={setsTempCO:null,setsTokShnek1:null,setsShnek1:null,setsVent1:null,setsTempGV:null,setsOffNasosCOGV:null,setsTempRoom:null,setsOnKomn:null,setsOnGV:null,setsStartGor1:null,setsModeKomn:null},F={setsTempCO:null,setsTokShnek1:null,setsShnek1:null,setsVent1:null,setsTempGV:null,setsOffNasosCOGV:null,setsTempRoom:null,setsOnKomn:null,setsOnGV:null,setsStartGor1:null,setsModeKomn:null},R={setsTempCO:!1,setsTokShnek1:!1,setsShnek1:!1,setsVent1:!1,setsTempGV:!1,setsOffNasosCOGV:!1,setsTempRoom:!1,setsOnKomn:!1,setsOnGV:!1,setsStartGor1:!1,setsModeKomn:!1};v();var A=h,K=s(3),L=(s(53),function(e){var t=e.addClass,s=e.buttonSpan,n=(e.type,e.onClick),a=e.style,c="button button_normal ".concat(t);return n?Object(_.jsx)("div",{className:c,onClick:n,style:a,children:s}):Object(_.jsx)("div",{className:c,style:a,children:s})}),U=function(e){var t=e.showActivePage,s=Object(_.jsx)("span",{className:"button__span button__span_burger"});return Object(_.jsxs)("div",{className:"burger-menu",children:[Object(_.jsx)("input",{className:"burger-menu__toggle",id:"menu__toggle",type:"checkbox"}),Object(_.jsx)("label",{className:"burger-menu__button",htmlFor:"menu__toggle",children:Object(_.jsx)(L,{addClass:"button header__button button_burger",buttonSpan:s})}),Object(_.jsxs)("ul",{className:"burger-menu__box",children:[Object(_.jsx)("label",{className:"burger-menu__exit",htmlFor:"menu__toggle"}),Object(_.jsx)("li",{className:"burger-menu__item",onClick:function(){localStorage.removeItem("user"),t("author","\u0412\u0445\u043e\u0434")},children:Object(_.jsx)("label",{htmlFor:"menu__toggle",children:"\u0412\u044b\u0445\u043e\u0434"})}),Object(_.jsx)("li",{className:"burger-menu__item",onClick:function(){A.getState().funcGetDevices(),t("devices","\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430")},children:Object(_.jsx)("label",{htmlFor:"menu__toggle",children:"\u041c\u043e\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"})})]})]})};var E=Object(o.b)((function(e,t){return Object(d.a)(Object(d.a)({},t),{},{out:e[t.outID]})}))((function(e){var t,s=e.out,n=void 0===s?null:s,a=e.outID,c=e.def,o=void 0===c?"--":c;if("status"===a){return Object(_.jsxs)(_.Fragment,{children:["  ",n&&n>-1?["\u0412\u044b\u043a\u043b","\u0420\u0430\u0431\u043e\u0442\u0430","\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430","\u0420\u043e\u0437\u0436\u0438\u0433"][n]:"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438","  "]})}if(null===n)n="--";else if(p.coefDict[a]){"-100"===(n=(n*=p.coefDict[a]).toFixed((t=p.coefDict[a]).toString().includes(".")?t.toString().split(".").pop().length:0)).split(".")[0]||"-127"===n.split(".")[0]?n="--":"shnekOrCurrent1"===a&&1===A.getState().setsType&&(n=n.split(".")[0])}var i={};return Number(n)>=100&&(i.fontSize="0.7em"),Object(_.jsxs)("span",{style:i,children:[" ",n&&-127!==Number(n)&&-100!==Number(n)?n:o," "]})}));var M=Object(o.b)((function(e,t){return Object(d.a)(Object(d.a)({},t),{},{temp:e[t.tempID]})}))((function(e){var t,s,n=e.temp,a=void 0===n?null:n,c=e.main,o=void 0!==c&&c,i=e.header,r=void 0!==i&&i,l=e.tempID,u=e.compact,m=void 0!==u&&u,d=null;if(a){var j=(a=(a*=p.coefDict[l]).toFixed((s=p.coefDict[l]).toString().includes(".")?s.toString().split(".").pop().length:0)).split("."),b=Object(K.a)(j,2);t=b[0],d=b[1],"-100"!==t&&"-127"!==t||(t="--",d="-")}else t="--";if(r)return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("span",{children:[t,"."]}),Object(_.jsx)("span",{children:d||"-"}),Object(_.jsxs)("span",{children:["\xa0",p.metricDict[l]]})]});var g=m?"compact":"center";return Object(_.jsxs)("div",{className:"widget__out widget__out_".concat(g),id:l,children:[Object(_.jsxs)("span",{className:"widget__span-int ".concat(o?"widget__span-int_big":m?"widget__span-int_compact":""),children:[t,"."]}),Object(_.jsx)("span",{className:"widget__span-fraction ".concat(o?"widget__span-fraction_big":m?"widget__span-fraction_compact":""),children:d||"-"}),Object(_.jsxs)("span",{className:"widget__span-unit ".concat(m?"widget__span-unit_compact":""),children:["\xa0",p.metricDict[l]]})]})})),B=function(e){var t=e.showActivePage,s=e.activePage,n=e.title;return localStorage.getItem("user")?"home"===s||"kotel"===s||"boler"===s||"termos"===s||"settings"===s?Object(_.jsxs)("div",{className:"header header_layout header_flex",children:[Object(_.jsxs)("div",{className:"header__content",children:[Object(_.jsx)("div",{className:"header__label",id:"outside_temp",children:Object(_.jsx)(M,{tempID:"tempOutside",header:"true"})}),Object(_.jsx)("div",{className:"header__title",children:Object(_.jsx)(E,{outID:"name",def:n})})]}),Object(_.jsx)(U,{showActivePage:t})]}):Object(_.jsxs)("div",{className:"header header_layout header_flex",children:[Object(_.jsx)("div",{className:"header__content",children:Object(_.jsx)("div",{className:"header__title",children:n})}),Object(_.jsx)(U,{showActivePage:t})]}):Object(_.jsx)("div",{className:"header header_layout header_flex",children:Object(_.jsx)("div",{className:"header__content",children:Object(_.jsx)("div",{className:"header__title",children:n})})})},q=function(e){var t,s=e.showActivePage,a=e.activePage,c=Object(n.useState)(""),o=Object(K.a)(c,2),i=o[0],r=o[1],l=Object(n.useState)(""),u=Object(K.a)(l,2),m=u[0],d=u[1],j=Object(n.useState)(""),b=Object(K.a)(j,2),g=b[0],f=b[1],h=Object(n.useState)(""),v=Object(K.a)(h,2),x=v[0],S=v[1],w=Object(n.useState)(""),N=Object(K.a)(w,2),k=N[0],C=N[1],D=Object(n.useState)(""),I=Object(K.a)(D,2),T=I[0],y=I[1],G=Object(n.useState)(""),P=Object(K.a)(G,2),V=P[0],F=P[1],R=Object(n.useState)(""),A=Object(K.a)(R,2),U=A[0],E=A[1],M=Object(n.useState)(""),B=Object(K.a)(M,2),q=B[0],z=B[1],Z=Object(n.useState)(""),$=Object(K.a)(Z,2),H=$[0],J=$[1],Q=Object(n.useState)(""),W=Object(K.a)(Q,2),X=W[0],Y=W[1];function ee(e){y(""),F(""),r(e.target.value)}function te(e){y(""),E(""),d(e.target.value)}switch(a){case"author":t=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("label",{htmlFor:"login",className:"form__label",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(_.jsx)("input",{value:i,className:"form__input ".concat(V),type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",name:"login",required:!0,pattern:"^[a-zA-Z0-9]+$",title:"\u0422\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u0438 \u0446\u0438\u0444\u0440\u044b",onChange:ee}),Object(_.jsx)("label",{className:"form__label",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(_.jsx)("input",{value:m,className:"form__input ".concat(U),type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"password",required:!0,pattern:"^[a-zA-Z0-9]+$",title:"\u0422\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u0438 \u0446\u0438\u0444\u0440\u044b",onChange:te}),Object(_.jsx)("div",{className:"form__error",children:T}),Object(_.jsx)(L,{addClass:"form__button button_light",buttonSpan:"\u0412\u043e\u0439\u0442\u0438",type:"submit",onClick:function(){!function(e,t){if(y(""),F(""),E(""),z(""),J(""),Y(""),e&&t){var n={login:e,password:t};O.a.post(p.regURL,n).then((function(e){"number"===typeof e.data?(localStorage.setItem("user",e.data),localStorage.getItem(e.data+"defaultDev")&&s("home","\u0418\u043c\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),s("devices","\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430")):"err1"===e.data?(y("\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),F("form__input_err"),E("form__input_err")):(y("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"),console.log(e.data))})).catch((function(e){console.log(e)}))}else y("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"),e||F("form__input_err"),t||E("form__input_err")}(i,m)}}),Object(_.jsx)("span",{onClick:function(){se(s)},className:"form__label form__link",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(_.jsx)("span",{onClick:function(){!function(e){y(""),F(""),E(""),z(""),J(""),Y(""),e("authorHelp","\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f")}(s)},className:"form__label",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]});break;case"reg":t=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("label",{htmlFor:"email",className:"form__label",children:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"}),Object(_.jsx)("input",{value:x,className:"form__input ".concat(H),type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",name:"email",required:!0,onChange:function(e){y(""),J(""),S(e.target.value)}}),Object(_.jsx)("label",{htmlFor:"login",className:"form__label",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(_.jsx)("input",{value:i,className:"form__input ".concat(V),type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",name:"login",required:!0,pattern:"^[a-zA-Z0-9]+$",title:"\u0422\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u0438 \u0446\u0438\u0444\u0440\u044b",onChange:ee}),Object(_.jsx)("label",{className:"form__label",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(_.jsx)("input",{value:m,className:"form__input ".concat(U),type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"password",required:!0,pattern:"^[a-zA-Z0-9]+$",title:"\u0422\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u0438 \u0446\u0438\u0444\u0440\u044b",onChange:te}),Object(_.jsx)("input",{value:g,className:"form__input ".concat(q),type:"password",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"password",required:!0,pattern:"^[a-zA-Z0-9]+$",title:"\u0422\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u0438 \u0446\u0438\u0444\u0440\u044b",onChange:function(e){y(""),z(""),f(e.target.value)}}),Object(_.jsx)("div",{className:"form__label form__error",children:T}),Object(_.jsx)(L,{addClass:"form__button button_light",buttonSpan:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",type:"submit",onClick:function(){!function(e,t,n,a){if(y(""),F(""),E(""),z(""),J(""),Y(""),e&&t&&n&&a)if(/\S+@\S+\.\S+/.test(a))if(t.length<5)y("\u041f\u0430\u0440\u043e\u043b\u044c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439"),E("form__input_err");else if(t!==n)y("\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u0440\u043e\u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e"),z("form__input_err");else{var c={login:e,email:a,password:t,password2:n};O.a.post(p.regURL,c).then((function(t){"number"===typeof t.data?(localStorage.setItem("user",t.data),localStorage.getItem(e+"defaultDev")&&s("home","\u0418\u043c\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),s("devices","\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430")):"err2"===t.data?(y("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),F("form__input_err")):(y("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"),console.log(t.data))})).catch((function(e){console.log(e)}))}else y("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"),J("form__input_err");else y("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"),e||F("form__input_err"),t||E("form__input_err"),n||z("form__input_err"),a||J("form__input_err")}(i,m,g,x)}}),Object(_.jsx)("span",{onClick:function(){ne(s)},className:"form__label form__link",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0432\u0445\u043e\u0434\u0443"})]});break;case"authorHelp":t=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("label",{htmlFor:"recovery",className:"form__label",children:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"}),Object(_.jsx)("input",{value:k||x,className:"form__input ".concat(X),type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",name:"recovery",required:!0,onChange:function(e){y(""),Y(""),C(e.target.value)}}),Object(_.jsx)("div",{className:"form__error",children:T}),Object(_.jsx)(L,{addClass:"form__button button_light",buttonSpan:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",type:"submit",onClick:function(){!function(e){if(y("\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435..."),F(""),E(""),z(""),J(""),e)if(/\S+@\S+\.\S+/.test(e)){var t={recovery:e};O.a.post(p.recoveryPassURL,t).then((function(t){200===t.data?y("\u041d\u0430 ".concat(e," \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u043d\u043e\u0432\u044b\u043c \u043f\u0430\u0440\u043e\u043b\u0435\u043c")):"err1"===t.data?(y("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u0430\u0434\u0440\u0435\u0441\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),Y("form__input_err")):(y("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"),console.log(t.data))})).catch((function(e){console.log(e)}))}else y("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"),Y("form__input_err");else y("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),Y("form__input_err")}(k)}}),Object(_.jsx)("span",{onClick:function(){ne(s)},className:"form__label form__link",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0432\u0445\u043e\u0434\u0443"}),Object(_.jsx)("span",{onClick:function(){se(s)},className:"form__label form__link",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})}function se(e){y(""),F(""),E(""),z(""),J(""),Y(""),e("reg","\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")}function ne(e){y(""),F(""),E(""),z(""),J(""),Y(""),e("author","\u0412\u0445\u043e\u0434")}return Object(_.jsx)("div",{className:"form form_flex",children:t})},z=function(e){var t=e.text,s=e.time,a=void 0===s?0:s,c=e.popupShow,o=e.startProcess,i=e.stopProcess,r=e.popupOK,l=e.info,u=void 0!==l&&l,m=e.error,d=void 0!==m&&m;d||i();var j=function(){c(!1),o()};return Object(n.useEffect)((function(){var e;return a>0&&(e=setTimeout(j,a)),function(){clearTimeout(e)}})),Object(_.jsx)("div",{className:"popup popup_position",children:Object(_.jsxs)("div",{className:"popup__box",children:[Object(_.jsx)("div",{className:"popup__text",children:t}),Object(_.jsx)("span",{className:"popup__exit",onClick:function(){c(!1),d||o()}}),u?"":Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(L,{addClass:"popup__button",type:"popup",buttonSpan:"\u0414\u0430",onClick:function(){r()}}),Object(_.jsx)(L,{addClass:"popup__button",type:"popup",buttonSpan:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){c(!1),o()}})]})]})})},Z=function(e){var t=e.dev,s=e.stopGet,a=e.startGet,c=e.showActivePage,o=Object(n.useState)(!1),i=Object(K.a)(o,2),r=i[0],l=i[1],u=Object(n.useState)(!1),m=Object(K.a)(u,2),d=m[0],j=m[1],b=Object(n.useState)(!1),g=Object(K.a)(b,2),f=g[0],h=g[1],v=Object(n.useState)(!1),x=Object(K.a)(v,2),S=x[0],w=x[1],N=Object(n.useState)(t.name),k=Object(K.a)(N,2),C=k[0],D=k[1],I=A.getState().funcGetDevices,T=Object(_.jsxs)("div",{className:"form popup__form form_flex",children:[Object(_.jsx)("label",{className:"form__label",htmlFor:"nevDevName",children:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e"}),Object(_.jsx)("input",{value:C,onChange:function(e){D(e.target.value)},className:"form__input",type:"text",name:"nevDevName"})]});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"devices__info",children:[Object(_.jsx)("span",{children:t.name}),Object(_.jsx)("span",{children:-3e3===t.temp?"\u043d\u0435 \u0432 \u0441\u0435\u0442\u0438":-1270===t.temp||-1e3===t.temp?"--":(t.temp/10).toFixed(1)+" \xb0C"})]}),Object(_.jsxs)("div",{className:"devices__control",children:[Object(_.jsx)("div",{className:"devices__del  button button_normal",onClick:function(){return l(!0)}}),Object(_.jsx)("div",{className:"devices__edit  button button_normal",onClick:function(){return w(!0)}}),Object(_.jsx)("div",{className:"devices__look  button button_normal",onClick:function(){return e=t.name,s=t.id,localStorage.setItem(localStorage.getItem("user")+"defaultDev",s),void c("home",e);var e,s}})]}),r?Object(_.jsx)(z,{popupOK:function(){return function(e){var t={dev_id:e};O.a.post(p.delDeviceURL,t).then((function(e){1===e.data?(l(!1),j(!0)):(console.log(e.data),l(!1),h(!0))})).catch((function(e){console.log(e),l(!1),h(!0)}))}(t.id)},startProcess:function(){a(),I()},stopProcess:s,popupShow:l,text:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e "'.concat(t.name,'"?')}):"",d?Object(_.jsx)(z,{info:"true",time:"3000",startProcess:function(){a(),I()},stopProcess:s,popupShow:j,text:'\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e "'.concat(t.name,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e')}):"",f?Object(_.jsx)(z,{info:"true",time:"3000",startProcess:function(){a(),I()},stopProcess:s,popupShow:h,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"}):"",S?Object(_.jsx)(z,{popupOK:function(){return function(e,t){var s={dev_id:e,new_name:t};O.a.post(p.editDeviceURL,s).then((function(e){1!==e.data?(w(!1),h(!0)):(w(!1),a(),I())})).catch((function(e){console.log(e),w(!1),h(!0)}))}(t.id,C)},startProcess:function(){a(),I()},stopProcess:s,popupShow:w,text:T}):""]})},$=Object(o.b)((function(e,t){return Object(d.a)(Object(d.a)({},t),{},{devices:e.devices})}))((function(e){var t=e.showActivePage,s=e.devices,a=void 0===s?[]:s,c=Object(n.useState)(!1),o=Object(K.a)(c,2),i=o[0],r=o[1],l=Object(n.useState)(!1),u=Object(K.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)(!1),g=Object(K.a)(b,2),f=g[0],h=g[1],v=Object(n.useState)(""),x=Object(K.a)(v,2),S=x[0],w=x[1],N=Object(n.useState)(""),k=Object(K.a)(N,2),C=k[0],D=k[1],I=Object(n.useState)(""),T=Object(K.a)(I,2),y=T[0],G=T[1],P=Object(n.useState)(""),V=Object(K.a)(P,2),F=V[0],R=V[1],U=Object(n.useState)(""),E=Object(K.a)(U,2),M=E[0],B=E[1],q=A.getState().funcGetDevices;function $(){A.dispatch(m({pauseGet:!0}))}function H(){A.dispatch(m({pauseGet:!1}))}Object(n.useEffect)((function(){var e=setInterval(q,3e3);return function(){clearInterval(e)}}));var J=Object(_.jsxs)("div",{className:"form popup__form form_flex",children:[Object(_.jsx)("label",{className:"form__label",htmlFor:"devID",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"}),Object(_.jsx)("input",{value:C,placeholder:"ID \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",onChange:function(e){G(""),R(""),D(e.target.value)},className:"form__input ".concat(F),type:"text",name:"devID"}),Object(_.jsx)("label",{className:"form__label",htmlFor:"devName",children:"\u0414\u0430\u0439\u0442\u0435 \u0438\u043c\u044f \u0441\u0432\u043e\u0435\u043c\u0443 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0443"}),Object(_.jsx)("input",{value:S,placeholder:'\u041d\u0430\u0440\u0438\u043c\u0435\u0440,"\u041a\u043e\u0442\u0451\u043b \u0432 \u0433\u0430\u0440\u0430\u0436\u0435"',onChange:function(e){G(""),B(""),w(e.target.value)},className:"form__input ".concat(M),type:"text",name:"devName"}),Object(_.jsx)("div",{className:"form__label form__error",children:y})]});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("ul",{className:"devices",children:a.map((function(e){return Object(_.jsx)("li",{className:"devices__item ".concat(-3e3===e.temp?"devices__item_offline":""),children:Object(_.jsx)(Z,{dev:e,stopGet:$,startGet:H,showActivePage:t,addPopup:i})},e.id)}))}),Object(_.jsx)(L,{addClass:"devices__button",buttonSpan:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e",type:"popup",onClick:function(){return r(!0)}}),i?Object(_.jsx)(z,{popupOK:function(){return function(){if(G(""),R(""),B(""),S&&C){var e={dev_id:C,dev_name:S,user_id:localStorage.getItem("user")};O.a.post(p.addDeviceURL,e).then((function(e){1===e.data?(r(!1),h(!0)):"err1"===e.data?(G("\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430 \u0438\u043b\u0438 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044e"),R("form__input_err")):"err2"===e.data?(G("\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0412\u0430\u043c\u0438"),R("form__input_err")):"err3"===e.data?(G("\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u0440\u0443\u0433\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c"),R("form__input_err")):"err4"===e.data?(G("\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u0412\u0430\u0448\u0435\u043c \u0441\u043f\u0438\u0441\u043a\u0435. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0438\u043c\u044f"),B("form__input_err")):(console.log(e.data),q(),r(!1),j(!0))})).catch((function(e){console.log(e),q(),r(!1),j(!0)}))}else G("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"),S||B("form__input_err"),C||R("form__input_err")}(localStorage.getItem("user"))},startProcess:function(){H(),q()},stopProcess:$,popupShow:r,text:J}):"",f?Object(_.jsx)(z,{info:"true",time:"3000",startProcess:function(){H(),q()},stopProcess:$,popupShow:h,text:'\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e "'.concat(S,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e')}):"",d?Object(_.jsx)(z,{info:"true",time:"3000",startProcess:function(){H(),q()},stopProcess:$,popupShow:j,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"}):""]})})),H=["\u0412\u044b\u043a\u043b","\u0420\u0430\u0431\u043e\u0442\u0430","\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430","\u0420\u043e\u0437\u0436\u0438\u0433"],J=null,Q=Object(o.b)((function(e,t){return Object(d.a)(Object(d.a)({},t),{},{status:e[t.statusID],setVal:e[t.setID],loading:e["loading_".concat(t.statusID)]})}))((function(e){var t=e.statusID,s=e.setID,a=(e.setVal,e.status),c=void 0===a?-1:a,o=e.loading,i=Object(n.useState)(Number(A.getState()[t])),r=Object(K.a)(i,2),l=r[0],m=r[1],d=function(e){var s={};s["loading_".concat(t)]=e,A.dispatch(u(s))};function j(){var e={};e["block_".concat(t)]=!1,A.dispatch(u(e))}Object(n.useEffect)((function(){t&&!!l!==!!Number(c)&&(j(),clearTimeout(J),d(!1))}),[c,t]);var b=function(){J=setTimeout((function(){return d(!1)}),3e4),j()},p="",g={};o?p="images/spiner.gif":"status"===t&&(-1===c?p="images/offline.png":"\u0412\u044b\u043a\u043b"===H[c]?p="images/play.png":(p="images/stop.png",g.backgroundColor="#ff8000"));var O=Object(_.jsx)("img",{className:"button__img",src:p,alt:"play"});return Object(_.jsx)(L,{buttonSpan:O,type:"play",addClass:"button_play",style:g,onClick:function(){if(!o&&-1!==c){clearTimeout(J),m(Number(c)),d(!0);var e=0;"\u0412\u044b\u043a\u043b"===H[c]&&(e=1);var t={};t[s]=e,t["block_".concat(s)]=!0,A.dispatch(u(t)),A.getState().functionSendSettings(s,e,b)}}})})),W=s(23),X=Object(o.b)((function(e,t){return Object(d.a)(Object(d.a)({},t),{},{value:e[t.outID]})}))((function(e){var t=e.value,s=e.outID,n=e.min,a=e.max;function c(e){var t={};t[s]=e<n?n:e>a?a:e,t["block_".concat(s)]=!0,A.dispatch(u(t))}function o(){var e={};e["block_".concat(s)]=!1,setTimeout((function(){A.dispatch(u(e))}),5e3)}return Object(_.jsxs)("div",{className:"slider slider_position",children:[Object(_.jsx)(L,{buttonSpan:"-",addClass:"slider__button",type:"slide",style:{padding:"0 0.3vw 2vw 0"},onClick:function(){Number(t)>n&&(c(Number(t)-1),A.getState().functionSendSettings(s,Number(t)-1,o))}}),Object(_.jsx)(W.Range,{step:1,min:n,max:a,values:t<n?[n]:t>a?[a]:[t],onChange:function(e){return c(e)},onFinalChange:function(){A.getState().functionSendSettings(s,Number(t),o)},renderTrack:function(e){var t=e.props,s=e.children;return Object(_.jsx)("div",Object(d.a)(Object(d.a)({},t),{},{style:Object(d.a)(Object(d.a)({},t.style),{},{height:"7px",flexGrow:"1",marginLeft:"3vw",marginRight:"3vw",backgroundColor:"#fff"}),children:s}))},renderThumb:function(e){var t=e.props;return Object(_.jsx)("div",Object(d.a)(Object(d.a)({},t),{},{style:Object(d.a)(Object(d.a)({},t.style),{},{height:"6vw",width:"4vw",backgroundColor:"#000",border:"1px solid white",outline:"none"})}))}}),Object(_.jsx)(L,{buttonSpan:"+",addClass:"slider__button",type:"slide",onClick:function(){Number(t)<a&&(c(Number(t)+1),A.getState().functionSendSettings(s,Number(t)+1,o))}})]})})),Y=function(e){var t=e.className;return Object(_.jsxs)("div",{className:t,children:[Object(_.jsxs)("div",{className:"widget__subwidget widget__subwidget_main",children:[Object(_.jsx)("div",{className:"widget__out widget__out_corner widget__out_corner-big",children:Object(_.jsx)(E,{outID:"setsTempCO"})}),Object(_.jsx)(M,{main:!1,compact:!0,tempID:"tempFlow"}),Object(_.jsx)(X,{outID:"setsTempCO",min:10,max:95}),Object(_.jsx)("span",{className:"widget__span-label widget__span-label_small",children:Object(_.jsx)(E,{outID:"status"})}),Object(_.jsx)(Q,{statusID:"status",setID:"setsStartGor1"}),Object(_.jsxs)("div",{className:"widget__out widget__out_column",children:[Object(_.jsxs)("span",{className:"widget__span-info-item widget__span-info-item_flex",children:[Object(_.jsx)("img",{className:"widget__span-info-img_small",src:"images/arrow-up.png",alt:""}),Object(_.jsx)("span",{children:Object(_.jsx)(E,{outID:"tempReturn"})})]}),Object(_.jsxs)("span",{className:"widget__span-info-item widget__span-info-item_flex",children:[Object(_.jsx)("img",{className:"widget__span-info-img_small",src:"images/truba.png",alt:""}),Object(_.jsx)("span",{children:Object(_.jsx)(E,{outID:"tempSmoke"})})]})]}),Object(_.jsx)("div",{className:"widget__icon",children:Object(_.jsx)("img",{src:"images/icon_kotel_main.png",alt:"",className:"widget__img"})})]}),Object(_.jsx)("div",{className:"widget__hr"}),Object(_.jsxs)("div",{className:"widget__subwidget widget__subwidget_sup",children:[Object(_.jsx)("div",{className:"widget__out widget__out_corner widget__out_corner",children:Object(_.jsx)(E,{outID:"setsShnek1"})}),Object(_.jsx)("div",{className:"widget__icon widget__icon_top",children:Object(_.jsx)("img",{src:"images/shnek.png",alt:"",className:"widget__img"})}),Object(_.jsx)("div",{className:"widget__out widget__out_top",children:Object(_.jsxs)("span",{children:[A.getState().shnek?Object(_.jsx)(E,{outID:"shnek"}):Object(_.jsx)(E,{outID:"setsShnek1"}),Object(_.jsx)("span",{className:"widget__text_normal",children:"%"})]})}),Object(_.jsx)(X,{outID:"setsShnek1",min:1,max:100}),Object(_.jsx)("div",{className:"widget__out widget__out_bottom-center",children:Object(_.jsxs)("span",{className:"widget__span-info widget__span-info_flex",children:[Object(_.jsxs)("span",{className:"widget__span-info-item widget__span-info-item_small",children:[Object(_.jsx)("img",{className:"widget__span-info-img widget__span-info-img_small",src:"images/amper.png",alt:""}),Object(_.jsxs)("span",{className:"widget__span-flex",children:[Object(_.jsx)(E,{outID:"current"}),3===A.getState().devType?Object(_.jsxs)(_.Fragment,{children:["\xa0/\xa0",Object(_.jsx)(E,{outID:"shnekOrCurrent1"})]}):"",Object(_.jsx)("span",{className:"widget__text_normal",children:"\xa0A"})]})]}),Object(_.jsxs)("span",{className:"widget__span-info-item widget__span-info-item_small",children:[Object(_.jsx)("img",{className:"widget__span-info-img widget__span-info-img_small",src:"images/small-deg.png",alt:""}),Object(_.jsxs)("span",{className:"widget__span-flex",children:[Object(_.jsx)(E,{outID:"tempShnekOrShek2"}),Object(_.jsx)("span",{className:"widget__text_normal",children:"\xb0C"})]})]})]})})]}),Object(_.jsx)("div",{className:"widget__hr"}),Object(_.jsxs)("div",{className:"widget__subwidget widget__subwidget_sup",children:[Object(_.jsx)("div",{className:"widget__out widget__out_corner widget__out_corner",children:Object(_.jsx)(E,{outID:"setsVent1"})}),Object(_.jsx)("div",{className:"widget__icon  widget__icon_top",children:Object(_.jsx)("img",{src:"images/ventel.png",alt:"",className:"widget__img"})}),Object(_.jsx)("div",{className:"widget__out widget__out_top",children:Object(_.jsxs)("span",{children:[A.getState().ventel?Object(_.jsx)(E,{outID:"ventel"}):Object(_.jsx)(E,{outID:"setsVent1"}),Object(_.jsx)("span",{className:"widget__text_normal",children:"%"})]})}),Object(_.jsx)(X,{outID:"setsVent1",min:1,max:100})]})]})},ee=Object(o.b)((function(e,t){return Object(d.a)(Object(d.a)({},t),{},{status:e.status,setVal:e[t.setID],loading:e["loading_".concat(t.setID)]})}))((function(e){var t=e.setID,s=e.setVal,a=void 0===s?0:s,c=e.status,o=void 0===c?-1:c,i=e.loading,r=void 0!==i&&i;function l(){var e={};e["block_".concat(t)]=!1,setTimeout((function(){A.dispatch(u(e))}),5e3)}Object(n.useEffect)((function(){var e=function(){var e={};e["loading_".concat(t)]=!1,A.dispatch(u(e))};return r&&setTimeout(e,5e3),function(){return clearTimeout(e)}}),[t,r]);var m="",d={};r?m="images/spiner.gif":-1===o?(m="images/offline.png",d.backgroundColor="#696969"):0===Number(a)?m="images/power.png":(m="images/power.png",d.backgroundColor="#ff8000");var j=Object(_.jsx)("span",{children:Object(_.jsx)("img",{className:"button__img",src:m,alt:"play"})});return Object(_.jsx)(L,{buttonSpan:j,type:"play",addClass:"button_play",style:d,onClick:function(){if(!r&&-1!==o){!function(e){var s={};s["loading_".concat(t)]=e,s["block_".concat(t)]=!0,A.dispatch(u(s))}(!0);var e=0;0===Number(a)&&(e=1);var s={};s[t]=e,A.dispatch(u(s)),A.getState().functionSendSettings(t,e,l)}}})})),te=Object(o.b)((function(e,t){return Object(d.a)(Object(d.a)({},t),{},{setVal:e[t.setID]})}))((function(e){var t=e.setID,s=e.setVal,n=void 0===s?0:s,a=e.items,c=e.uncheck,o=void 0===c||c;e.id;function i(e){var s={};s[t]=e,s["block_".concat(t)]=!0,A.dispatch(u(s)),A.getState().functionSendSettings(t,e)}var r=function(e){(o||Number(n)!==Number(e))&&(o&&0!==Number(n)?i(0):i(e),function(){var e={};e["block_".concat(t)]=!1,setTimeout((function(){A.dispatch(u(e))}),5e3)}())};return Object(_.jsx)("div",{className:"checkbox-container checkbox-container__position",children:a.map((function(e){return Object(_.jsxs)("div",{className:"checkbox-container__item",children:[Object(_.jsx)("div",{className:"checkbox",onClick:function(){return r(e.value)},children:Number(n)===e.value?Object(_.jsx)("span",{children:"\u2713"}):""}),Object(_.jsx)("div",{className:"checkbox__label",children:e.label})]},e.id)}))})})),se=function(e){var t=e.className;return Object(_.jsxs)("div",{className:t,children:[Object(_.jsxs)("div",{className:"widget__subwidget widget__subwidget_sup",children:[Object(_.jsx)("div",{className:"widget__out widget__out_corner widget__out_corner-big",children:Object(_.jsx)(E,{outID:"setsTempGV"})}),Object(_.jsx)(M,{main:!1,compact:!0,tempID:"tempBolerOrShnek1"}),Object(_.jsx)(X,{outID:"setsTempGV",min:40,max:80}),Object(_.jsx)(ee,{setID:"setsOnGV"}),Object(_.jsx)("div",{className:"widget__icon",children:Object(_.jsx)("img",{src:"images/icon_1.png",alt:"",className:"widget__img"})})]}),Object(_.jsx)("div",{className:"widget__hr"}),Object(_.jsxs)("div",{className:"widget__subwidget widget__subwidget_main",children:[Object(_.jsx)("div",{className:"widget__icon widget__icon_top",children:Object(_.jsx)("img",{src:"images/pointer.png",alt:"",className:"widget__img"})}),Object(_.jsx)(te,{setID:"setsOffNasosCOGV",items:[{label:"\u0432\u044b\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043d\u0430\u0441\u043e\u0441 \u0426\u041e",value:1,id:"setsOffNasosCOGV"}]})]})]})},ne=function(e){var t=e.className;return Object(_.jsxs)("div",{className:t,children:[Object(_.jsxs)("div",{className:"widget__subwidget widget__subwidget_sup",children:[Object(_.jsx)("div",{className:"widget__out widget__out_corner widget__out_corner-big",children:Object(_.jsx)(E,{outID:"setsTempRoom"})}),Object(_.jsx)(M,{main:!1,compact:!0,tempID:"tempRoom"}),Object(_.jsx)(X,{outID:"setsTempRoom",min:10,max:40}),Object(_.jsx)(ee,{setID:"setsOnKomn"}),Object(_.jsx)("div",{className:"widget__icon",children:Object(_.jsx)("img",{src:"images/icon_2.png",alt:"",className:"widget__img"})})]}),Object(_.jsx)("div",{className:"widget__hr"}),Object(_.jsxs)("div",{className:"widget__subwidget widget__subwidget_main",children:[Object(_.jsx)("div",{className:"widget__icon widget__icon_top",children:Object(_.jsx)("img",{src:"images/pointer.png",alt:"",className:"widget__img"})}),Object(_.jsx)(te,{setID:"setsModeKomn",uncheck:!1,items:[{label:"\u043c\u043e\u0449\u043d\u043e\u0441\u0442\u044c\u044e \u043a\u043e\u0442\u043b\u0430",value:0,id:"setsModeKomn_1"},{label:"\u043d\u0430\u0441\u043e\u0441\u043e\u043c \u0426\u041e",value:1,id:"setsModeKomn_2"},{label:"\u043a\u043b\u0430\u043f\u0430\u043d\u043e\u043c",value:2,id:"setsModeKomn_3"}]})]})]})},ae=function(e){var t=e.typeClass,s=e.tempID,n=void 0===s?"tempFlow":s,a=e.setID,c=void 0===a?"setsTempCO":a,o=e.icon,i=e.showActivePage,r=e.activePage,l=(e.errCount,"widget widget_layout widget_".concat(t," widget_position")),u="main"===t;if("author"===t)return Object(_.jsx)("div",{className:l,children:Object(_.jsx)(q,{formType:t,activePage:r,showActivePage:i})});if("devices"===t)return Object(_.jsx)("div",{className:l,children:Object(_.jsx)($,{showActivePage:i})});if("kotel"===t)return Object(_.jsx)(Y,{className:l});if("boler"===t)return Object(_.jsx)(se,{className:l});if("termos"===t)return Object(_.jsx)(ne,{className:l});var m=Object(_.jsxs)("div",{className:"widget__out widget__out_bottom",children:[Object(_.jsx)("span",{className:"widget__span-label",children:Object(_.jsx)(E,{outID:"status"})}),Object(_.jsxs)("span",{className:"widget__span-info widget__span-info_flex",children:[Object(_.jsxs)("span",{className:"widget__span-info-item",children:[Object(_.jsx)("img",{className:"widget__span-info-img",src:"images/shnek.png",alt:""}),Object(_.jsxs)("span",{className:"widget__span-flex",children:[A.getState().shnek?Object(_.jsx)(E,{outID:"shnek"}):Object(_.jsx)(E,{outID:"setsShnek1"}),Object(_.jsx)("span",{className:"widget__text_normal",children:"%"})]})]}),Object(_.jsxs)("span",{className:"widget__span-info-item",children:[Object(_.jsx)("img",{className:"widget__span-info-img",src:"images/ventel.png",alt:""}),Object(_.jsxs)("span",{className:"widget__span-flex",children:[A.getState().ventel?Object(_.jsx)(E,{outID:"ventel"}):Object(_.jsx)(E,{outID:"setsVent1"}),Object(_.jsx)("span",{className:"widget__text_normal",children:"%"})]})]})]})]});return Object(_.jsxs)("div",{className:l,children:[Object(_.jsx)("div",{className:"widget__out widget__out_corner ".concat("main"===t?"widget__out_corner-big":""),children:Object(_.jsx)(E,{outID:c})}),Object(_.jsx)(M,{main:u,tempID:n}),u?m:"",Object(_.jsx)("div",{className:"widget__icon",children:Object(_.jsx)("img",{src:"images/icon_".concat(o,".png"),alt:"",className:"widget__img"})})]})},ce=function(e){var t=A.getState().funcGetData;return Object(n.useEffect)((function(){var e=setInterval(t,3e3);return function(){clearInterval(e)}})),t(),Object(_.jsxs)("div",{className:"content__page",children:[Object(_.jsx)(ae,{typeClass:"main",tempID:"tempFlow",setID:"setsTempCO",icon:"main"}),Object(_.jsx)(ae,{typeClass:"sup",tempID:"tempBolerOrShnek1",setID:"setsTempGV",icon:"1"}),Object(_.jsx)(ae,{typeClass:"sup",tempID:"tempRoom",setID:"setsTempRoom",icon:"2"})]})},oe=function(e){var t=A.getState().funcGetData;return Object(n.useEffect)((function(){var e=setInterval(t,3e3);return function(){clearInterval(e)}})),t(),Object(_.jsx)("div",{className:"content__page",children:Object(_.jsx)(ae,{typeClass:"kotel"})})},ie=function(e){var t=e.showActivePage,s=e.activePage;return Object(_.jsx)("div",{className:"content__page",children:Object(_.jsx)(ae,{typeClass:"author",activePage:s,showActivePage:t})})},re=function(e){var t=e.showActivePage;return Object(_.jsx)("div",{className:"content__page",children:Object(_.jsx)(ae,{typeClass:"devices",showActivePage:t})})},le=function(e){var t=A.getState().funcGetData;return Object(n.useEffect)((function(){var e=setInterval(t,3e3);return function(){clearInterval(e)}})),t(),Object(_.jsx)("div",{className:"content__page",children:Object(_.jsx)(ae,{typeClass:"boler"})})},ue=function(e){var t=A.getState().funcGetData;return Object(n.useEffect)((function(){var e=setInterval(t,3e3);return function(){clearInterval(e)}})),t(),Object(_.jsx)("div",{className:"content__page",children:Object(_.jsx)(ae,{typeClass:"termos"})})},me=function(e){var t=e.showActivePage,s=e.activePage,n=e.getDevices;return Object(_.jsx)("div",{className:"content content_position",children:"author"===s||"reg"===s||"authorHelp"===s?Object(_.jsx)(ie,{showActivePage:t,activePage:s}):"home"===s?Object(_.jsx)(ce,{}):"devices"===s?Object(_.jsx)(re,{getDevices:n,showActivePage:t}):"kotel"===s?Object(_.jsx)(oe,{}):"boler"===s?Object(_.jsx)(le,{}):"termos"===s?Object(_.jsx)(ue,{}):""})},de=function(e){var t=e.showActivePage,s=Object(n.useState)("home"),a=Object(K.a)(s,2),c=a[0],o=a[1];return Object(_.jsx)("ul",{className:"menu footer__menu",children:[{title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",imgClass:"_home",id:"home"},{title:"\u041a\u043e\u0442\u0451\u043b",imgClass:"_kotel",id:"kotel"},{title:"\u0411\u043e\u0439\u043b\u0435\u0440",imgClass:"_boler",id:"boler"},{title:"\u0422\u0435\u0440\u043c\u043e\u0441\u0442\u0430\u0442",imgClass:"_termostat",id:"termos"}].map((function(e){var s=e.id===c,n="menu__item ".concat(s?"menu__item_active":""),a="menu__img menu__img".concat(e.imgClass);return Object(_.jsxs)("li",{className:n,id:e.id,onClick:function(){return s=e.id,t(s),void o(s);var s},children:[Object(_.jsx)("div",{className:a}),Object(_.jsx)("div",{className:"menu__label",children:e.title})]},e.id)}))})},je=function(e){var t=e.showActivePage,s=e.activePage;return localStorage.getItem("user")&&"devices"!==s&&"profile"!==s?Object(_.jsx)("div",{className:"footer footer_position",children:Object(_.jsx)(de,{showActivePage:t})}):Object(_.jsx)("div",{className:"footer footer_position"})};var _e=Object(o.b)((function(e,t){return Object(d.a)(Object(d.a)({},t),{},{offline:e.offline})}))((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(n.useEffect)((function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}));var t="author",s="\u0412\u0445\u043e\u0434";localStorage.getItem("user")&&(e||A.getState().funcGetDevices(),t="devices",s="\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430");var a=Object(n.useState)(t),c=Object(K.a)(a,2),o=c[0],i=c[1],r=Object(n.useState)(s),l=Object(K.a)(r,2),u=l[0],d=l[1],j=function(e,t){"devices"===e&&A.getState().funcGetDevices(),i(e),b(t)},b=function(e){d(e)};return Object(_.jsxs)("div",{className:"App wraper wraper_background wraper_flex",children:[Object(_.jsx)(B,{showActivePage:j,activePage:o,title:u}),Object(_.jsx)(me,{showActivePage:j,activePage:o}),Object(_.jsx)(je,{showActivePage:j,activePage:o}),A.getState().offline?Object(_.jsx)(z,{text:"\u041d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",info:"true",error:"true",popupShow:function(){A.dispatch(m({errCount:0})),A.dispatch(m({offline:!1}))}}):""]})})),be=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,56)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;s(e),n(e),a(e),c(e),o(e)}))};c.a.render(Object(_.jsx)(o.a,{store:A,children:Object(_.jsx)(_e,{})}),document.getElementById("root")),be()}},[[55,1,2]]]);
//# sourceMappingURL=main.c6705416.chunk.js.map